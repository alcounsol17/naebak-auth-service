# دليل المساهمة في مشروع خدمة المصادقة

نرحب بمساهماتكم في تطوير خدمة المصادقة لمنصة نائبك. هذا الدليل يوضح كيفية المساهمة بفعالية في المشروع.

## البدء السريع

### إعداد بيئة التطوير

قبل البدء في المساهمة، تأكد من إعداد بيئة التطوير المحلية بشكل صحيح. ستحتاج إلى Python 3.11 أو أحدث، PostgreSQL 15، و Redis 7. يمكنك استخدام Docker Compose لتبسيط هذه العملية.

```bash
git clone https://github.com/alcounsol17/naebak-auth-service.git
cd naebak-auth-service
python -m venv venv
source venv/bin/activate
pip install -r requirements.txt
pip install -r requirements-dev.txt
docker-compose up -d db redis
python manage.py migrate
```

### تشغيل الاختبارات

تأكد من أن جميع الاختبارات تعمل بنجاح قبل البدء في التطوير. نحن نهدف للحفاظ على تغطية اختبارات تزيد عن 95%.

```bash
python manage.py test
coverage run --source='.' manage.py test
coverage report
```

## معايير الكود والجودة

### أسلوب الكتابة

نتبع معايير PEP 8 لكتابة كود Python نظيف ومقروء. استخدم الأدوات التالية للتأكد من جودة الكود:

```bash
black .
isort .
flake8 .
```

### التوثيق والتعليقات

اكتب docstrings واضحة للدوال والكلاسات المهمة. استخدم اللغة العربية في التعليقات لتسهيل فهم الكود على المطورين العرب. أضف type hints حيثما أمكن لتحسين وضوح الكود.

### الاختبارات

كل ميزة جديدة يجب أن تكون مصحوبة باختبارات شاملة. اكتب اختبارات للوحدات الفردية، اختبارات التكامل، واختبارات API. تأكد من اختبار السيناريوهات الإيجابية والسلبية.

## عملية المساهمة

### إنشاء Issue

قبل البدء في العمل على ميزة جديدة أو إصلاح خطأ، تأكد من وجود issue مفتوح يصف المشكلة أو الميزة المطلوبة. إذا لم يكن موجوداً، قم بإنشاء issue جديد مع وصف واضح ومفصل.

### إنشاء Branch

أنشئ branch جديد من main للعمل على الميزة أو الإصلاح. استخدم أسماء وصفية للbranches مثل `feature/user-profile-enhancement` أو `fix/login-validation-bug`.

```bash
git checkout -b feature/your-feature-name
```

### كتابة Commits

اكتب رسائل commit واضحة ووصفية. استخدم الصيغة التالية:

```
نوع: وصف مختصر للتغيير

وصف مفصل للتغيير إذا لزم الأمر.
يمكن أن يتضمن السبب وراء التغيير والتأثير المتوقع.
```

أمثلة على رسائل commit جيدة:
- `feat: إضافة نظام التحقق من البريد الإلكتروني`
- `fix: إصلاح مشكلة انتهاء صلاحية JWT tokens`
- `docs: تحديث وثائق API للمصادقة`

### إنشاء Pull Request

عند الانتهاء من العمل، قم بإنشاء Pull Request مع وصف واضح للتغييرات. تأكد من:

- تشغيل جميع الاختبارات بنجاح
- تحديث التوثيق إذا لزم الأمر
- إضافة اختبارات للميزات الجديدة
- اتباع معايير الكود المحددة

## أنواع المساهمات

### تطوير الميزات

نرحب بالمساهمات في تطوير ميزات جديدة تحسن من وظائف خدمة المصادقة. تأكد من مناقشة الميزة المقترحة في issue قبل البدء في التطوير.

### إصلاح الأخطاء

إذا وجدت خطأ في النظام، قم بإنشاء issue يصف المشكلة بالتفصيل مع خطوات إعادة الإنتاج. ثم يمكنك العمل على إصلاح الخطأ وإرسال Pull Request.

### تحسين الأداء

المساهمات التي تحسن من أداء النظام مرحب بها دائماً. تأكد من قياس الأداء قبل وبعد التحسين وتوثيق النتائج.

### تحسين الأمان

الأمان أولوية قصوى في خدمة المصادقة. إذا وجدت ثغرة أمنية، يرجى التواصل مع الفريق مباشرة على security@naebak.com قبل الكشف عنها علناً.

## مراجعة الكود

### عملية المراجعة

جميع Pull Requests تخضع لمراجعة من قبل أعضاء الفريق الأساسي. نحن نبحث عن:

- جودة الكود ووضوحه
- اكتمال الاختبارات
- توافق مع معايير المشروع
- الأمان والأداء

### التعامل مع التعليقات

كن مفتوحاً للتعليقات والاقتراحات من المراجعين. الهدف هو تحسين جودة الكود وليس النقد الشخصي. ناقش التعليقات بطريقة بناءة وقم بإجراء التعديلات المطلوبة.

## الدعم والمساعدة

إذا كنت بحاجة لمساعدة أو لديك أسئلة حول المساهمة، يمكنك:

- فتح issue للمناقشة
- التواصل مع الفريق على dev@naebak.com
- مراجعة الوثائق والأمثلة الموجودة

## قواعد السلوك

نتوقع من جميع المساهمين الالتزام بقواعد السلوك المهني والاحترام المتبادل. نحن نسعى لخلق بيئة ترحيبية وشاملة للجميع بغض النظر عن الخلفية أو الخبرة.

## الترخيص

بمساهمتك في هذا المشروع، فإنك توافق على أن مساهماتك ستكون مرخصة تحت نفس ترخيص المشروع (MIT License).

---

شكراً لك على اهتمامك بالمساهمة في تطوير خدمة المصادقة لمنصة نائبك. مساهماتك تساعد في بناء نظام أفضل وأكثر أماناً للمستخدمين.
